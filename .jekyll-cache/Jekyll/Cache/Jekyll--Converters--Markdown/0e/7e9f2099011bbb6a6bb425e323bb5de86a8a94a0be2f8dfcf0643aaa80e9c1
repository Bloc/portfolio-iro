I"¬(<p>Before starting, I‚Äôd like to provide some background. My last post on contributing to Open Source was made before actually writing a single line of code towards a project. I‚Äôve run into a couple of hurdles here and there. I did make a contribution to a well known project called Angular. It initially was supposed to be updating a library‚Äôs way of calling an error message, but unfortunately, the issue that I had chosen was slated for deprecation. So, alas, my work had to be discarded, but I did have the pleasure of adding a single comment to the project‚Äôs repository.</p>

<p>Afterwards, I did search for other projects, and did write some code to a project called Better_Errors. I jumped on because the maintainers seemed to have been doing some work during the end of year holiday season. It was around that time that I put in some work for this, but unfortunately, it seemed like the project maintainers/devs have been silent shortly after my contribution.</p>

<p>So, I took a bit of a break from attempting to meaningfully contribute to open source. I regrouped and reviewed some long forgotten things from webdev.
One thing that I‚Äôve learned is how easily I forget certain particularities of a language if I don‚Äôt use it often. CSS, Bootstrap, HTML had been very well learned and a year ago. At that time, I felt very strong in these areas. I couldn‚Äôt say the same thing right now. I reviewed Bootsrap, CSS, and also reviewed Angular. Also, past couple of weeks, I created a chat app using React as the framework (which I actually prefer to Angular currently), and am using firebase in the backend to house the chatrooms and the messages within. I did this mainly to actually write code, review old concepts that were stale, and start to build my protfolio to the world!</p>

<p>And that‚Äôs the part that stuck. That is, a need to build things and put them out there in the world! I had this blog, previously accessible via github pages. It basically is my main Jekyll blog site, housed on github, which was previously CNAME‚Äôd to my main domain at <a href="www.xavierjortiz.com">www.xavierjortiz.com</a>.</p>

<p>The problem with having this site on github was that I could not setup secure SSL connections to www.xavierjortiz.com. The way github pages works would not allow a certificate to be properly bestowed to <em>my</em> particular domain name. In other words, if I CNAME‚Äôd my www.xavierjortiz.com site to xavier-j-ortiz.github.io, and tried to fetch content from https://www.xavierjortiz.com (note the <strong>https</strong> prepended before the website‚Äôs domain name), the browser would throw an error due to name mismatch on the certificate. This would be because github pages would provide a certificate for it‚Äôs domain name, which is <em>github.io</em>, when the browser would expect a certificate from the site www.xavierjortiz.com to have a a name of <em>www.xavierjortiz.com</em>, or a wildcard cert <em>*.xavierjortiz.com</em>. For me to properly setup a certificate for my website would require me to create my own server, host the site from there, and use a service like <a href="www.letsencrypt.org">www.letsencrypt.org</a> to create a self signed certificate for my particular website.</p>

<p>Given that for my portfolio, I now had 2 webapps that I had created, a chatroom, and a calculator app, it seemed like it would merit taking some time to figure this out. I had backlogged setting this up my website on my own hosted server with SSL long enough.</p>

<p>Time to man up! It‚Äôs time for the rubber to meet the road!</p>

<p>So, I paid for a service on Linode. A Virtual Machine that cost like 5 bucks a month. My initial thought was, setup this Jekyll blog up, host it on my site using regular http. Make sure it works. Then use nginx to serve the site up. Then figure out how to create the certificate via letsencrypt, host it, and serve my content via the coveted https!</p>

<p>First off, I had read a couple of articles regarding a couple of Tier 2 VM providers. Amoungst them, Digital Ocean, and Vultr. I looked at stats, and in reality Digital Ocean and Linode always seemed to be playing in the same ballpark. Checking historical articles, if one provider had an edge in one moment, the next moment the other provider would have a slight edge in terms of VM capacity or performance. And vice versa.</p>

<p>I ended up choosing Linode because it‚Äôs website seemed less slick when compared to Digital Ocean or Vultr. I guess my thought was, <em>real</em> SysAdmins don‚Äôt look to make things flashy on the front end, they bulk up things on the back end and provide a better technical product. Completly unbiased‚Ä¶ I know. :)</p>

<p>I‚Äôve currently created a couple of simple apps by using React, Jekyll, as well as Angular. Funny enough, deploying these sites were really not that difficult, and all share the same core concepts once you‚Äôre happy with the finished product, and are ready to put the site into production.</p>

<p>Once ready, you have to run a script that will actually build ‚Äúthe site‚Äù that is ready/worthy for production.</p>

<p>For the technologies I‚Äôm using, building the sites are actually not disimilar than some commands used to run the production server. For example, for this Jekyll site, in order to properly create the production site, I had to use <code class="language-plaintext highlighter-rouge">bundle exect jekyll build</code>. For creating the react site, I had to run <code class="language-plaintext highlighter-rouge">npm build</code>. To create the Angular site, I had to use the command <code class="language-plaintext highlighter-rouge">ng build --prod --build-optimizer</code>.</p>

<p>Typically the result of building the site will be a set of files ready to be hosted by a program such as Apache or nginx. These files are typically placed in a folder called <code class="language-plaintext highlighter-rouge">dist</code>, <code class="language-plaintext highlighter-rouge">_site</code>, or <code class="language-plaintext highlighter-rouge">build</code>. The content from these folders is what a program like nginx will use to serve the sites.</p>

<p>After generating these files, it was a matter of copying them to a folder within my brand new VM. I chose to host each set of project files in their own separate folders within the <code class="language-plaintext highlighter-rouge">~/apps</code> location on the server.</p>

<p>On the VM, I chose Debian Stretch, which is the current stable branch of Debian, and am using whichever was the most up-to-date Linode kernel provided. When I set up the server initially, I wanted to track as much of the software on the server as possible from the Debian repositories. I didn‚Äôt want to add any external repositories if possible, as I am quite trusting of the timely security updates provided by Debian. Keeping a single point of upgrade in terms of administration of the server and it‚Äôs assets would make it easy. I could have the server update via a package called <em>unattended-upgrades</em>, which would allow the server to install security updates as soon as they are available. That way, I really would only need to log into the system to reboot from time to time if there‚Äôs a kernel upgrade or a kernel vulnerability that would require a restart. However, I‚Äôm not sure if Linode is managing this already or not.</p>

<p>In terms of kernel version, as long as it‚Äôs being updated with security patches and whatnot, I‚Äôm pretty much happy with that. I would have preferred to have the default Debian stable kernel as it‚Äôs tracing an LTS version of the linux kernel, however, will give this Linode kernel 4.14 kernel a try. They have different versions of ‚Äúcurrent‚Äù kernels. I would interpret current as kernels who‚Äôs updates are current. I‚Äôm not sure if the VM will track this kernel for updates or patches directly via apt, or if the patches come automatically from a level above pertaining to Linode admins. Also not sure if they are patching directly and have any live or hotfix patching in place. Will need to look into this.</p>

<p>Continuing on, I installed nginx as I would need this to serve my content for a browser. I installed this via <code class="language-plaintext highlighter-rouge">apt-get install nginx</code> using Debian‚Äôs stable repository.</p>

<p>I first setup my main site, just to make sure that everything was running correctly on my server, make sure it‚Äôs IP Address is publicly accessible once assigned from my domain name.</p>

<p>I created a symbolic link from my main site‚Äôs location it was copied into, which was <code class="language-plaintext highlighter-rouge">~/apps/main</code>, to where Debian would typically house web content to, which is ‚Äò/var/www/html/main‚Äô.</p>

<p>I setup the nginx config file to serve this folder as the main site, and voila! <a href="www.xavierjortiz.com">www.xavierjortiz.com</a> has landed!</p>

<p>The nginx file I created is shown below. It is located under <code class="language-plaintext highlighter-rouge">/etc/nginx/sites-available/www.xavierjortiz.com</code> and I symbolic linked it to <code class="language-plaintext highlighter-rouge">/etc/nginx/sites-enabled/www.xavierjortiz.com</code>. The reason for this symbolic link is because nginx allows you to setup separate configs for each site you plan on hosting under <code class="language-plaintext highlighter-rouge">/etc/nginx/sites-available/</code>. Once you put the site under production, you symbolicly link the config for the site into <code class="language-plaintext highlighter-rouge">/etc/nginx/sites-enabled</code>.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>server {
  listen 80;
  listen [::]:80;
  server_name www.xavierjortiz.com;
  root /var/www/html/main;

  location / {
    index index.html index.htm index.php;
  }
}

</code></pre></div></div>

<p>Feeling kinda tired after posting this. I didn‚Äôt think this was going to be a multi part blog post. I promise I‚Äôll finish this multi-parter.</p>

<p>What needs to be covered next is setting up a separate site on the same domain, however serving it one folder down, i.e.: <code class="language-plaintext highlighter-rouge">www.xavierjortiz.com/chatroom/</code>, setting up SSL configuration, and how to set both of these things up to be correctly served by nginx!</p>
:ET